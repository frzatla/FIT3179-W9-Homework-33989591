<!doctype html> 
<html> 
<head> 
  <meta charset="utf-8" /> 
  <title>Wildlife in Australia</title> 
  <script src="https://cdn.jsdelivr.net/npm/vega@5"></script> 
  <script src="https://cdn.jsdelivr.net/npm/vega-lite@5"></script> 
  <script src="https://cdn.jsdelivr.net/npm/vega-embed@6"></script> 


  <link rel="stylesheet" href="styles.css">


</head> 
<body> 
  <h1>Animal species richness by state in Australia</h1> 
  <div id="map"></div> 
  <script> 
  const spec = { 
    $schema: "https://vega.github.io/schema/vega-lite/v5.json", 
    width: 900,  
    height: 600,
    projection: {type: "equirectangular"},
    layer: [ 
      {
        data: { 
          url: "https://raw.githubusercontent.com/frzatla/3179-Visualisation2/main/aus-states.json",    
          format: {type: "topojson", feature: "STE_2016_AUST"}  
        }, 
        mark: {type: "geoshape", fill: "lightgray", stroke: "white"}
      },
      {
        data: { 
          url: "https://raw.githubusercontent.com/frzatla/3179-Visualisation2/main/ne_110m_graticules_10.json",    
          format: {type: "topojson", feature: "ne_110m_graticules_10"}  
        }, 
        mark: {type: "geoshape", fill: null, stroke: "black", strokeWidth: 0.5}
      },
      {
        data: { 
          url: "https://raw.githubusercontent.com/frzatla/3179-Visualisation2/main/wildlife_species_counts_by_state.csv"
        },
        mark: {type: "circle"},
        encoding: {
          longitude: {field: "longitude", type: "quantitative"},
          latitude: {field: "latitude", type: "quantitative"},
          size: {
            field: "species_count",
            type: "quantitative",
            title: "Quantity",
            scale: {domain: [6000, 40000],
            range: [500, 4000]
            }
          },
          color: {
            field: "species_count",
            type: "quantitative",
            title: "Distinct animal species",
            scale: {scheme: "greens"},
            legend: {
              padding: 20,
              offset: 10
            }
          },
          tooltip: [
            {field: "state", type: "nominal", title: "State:"},
            {field: "species_count", type: "quantitative", title: "Species Count:"},
            {field: "latitude", type: "quantitative", title: "Latitude:", format: ".1f"},
            {field: "longitude", type: "quantitative", title: "Longitude:", format: ".1f"}
          ]
        }
      }
    ], 
    config: {view: {stroke: null}} 
  }; 
  vegaEmbed("#map", spec, {actions:false}); 
  </script> 
</body> 
</html>
